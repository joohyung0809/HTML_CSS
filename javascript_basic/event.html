<html>
    <head></head>

    <body>
        <div id="outside">
            <div>
                <input type="checkbox">
                <label for="">운동</label>
            </div>

            <div>
                <input type="checkbox">
                <label for="">쇼핑</label>
            </div>
        </div>

        <script>
            // event delegation 이벤트 위임(제일 첫 번째 태그에다가 이벤트 위임)

            // 이벤트 처리를 들어오는 계층 모두에서 처리하고 싶으면 두 개 걸면 됨
            const cp_div = document.querySelector('#outside')
            cp_div.addEventListener('click', (event)=> {
                console.log('cp_div 이벤트 -->', event.target.tagName)
                // EventListener를 div에 걸었음에도 실제 event 발생 지역을 catch함
                // 각 태그들이 모두 input으로 통일 되어 있으면 id로 구별 가능
            })

            //const inputs = document.querySelectorAll('input') 
            // 배열 형태로 input들이 inputs에 들어가 있음

            /*inputs.forEach(  (_ip, _idx)=> {
                _ip.addEventListener('click', (event)=>{ 
                    // 인자로 event 넣고 event.stopPropagation 하면 bubble이 안 됨
                    console.log(_idx+' bubble phase: input click event 발생')
                    // event.stopPropagation(); // 자기보다 위의 레벨 것만 전달 안 함(본인과 같은 레벨은 전달함)
                    event.stopImmediatePropagation(); // 본인과 같은 레벨의 전달까지도 막는 것
                }) // bubble phase에 수행되는 listner -> 아무것도 안 정하면 false -> bubble phase에 수행


                _ip.addEventListener('click', ()=>{
                    console.log(_idx+' capture phase: input click event 발생')
                }, true) // capture phase에 수행되는 listner -> true로 지정하면 capture phase에 수행
                
            })

            inputs.forEach(  (_ip, _idx)=> { // 하나의 개체에 두 가지 eventListner 걸 수 있음
                _ip.addEventListener('click', ()=>{
                    console.log(_idx+' 두 번째 event listner 발생')
                })
            })*/

            // div에 대한 event listner 설정
            /*const divs = document.querySelectorAll('div')
            divs.forEach((_dv, _idx)=>{
                _dv.addEventListener('click', ()=>{
                    console.log(_idx+ ' bubble pahse: div에 대한 event 발생')
                })// bubble phase에 수행되는 listner -> 아무것도 안 정하면 false -> bubble phase에 수행

                _dv.addEventListener('click', ()=>{
                    console.log(_idx+ ' capture pahse: div에 대한 event 발생')
                },true)// capture phase에 수행되는 listner -> true로 지정하면 capture phase에 수행
            }) */

            // event capture phase -> div든 h1이든 여러 태그들이 중첩 되어 있으면 계층적으로 만들어지고
            // 밖에 있는 것 부터 타고 들어감. 
            // 그리고 제일 안 쪽에 event 발생한 곳까지 도착하면 그곳을 target phase라고 함.

            // target phase에서 captur phase를 타고 다시 밖으로 돌아가는 과정 -> event bubble phase

            // 정리하면 capture -> target -> bubble (대부분의 event 처리는 bubble에서 이루어짐)



        </script>
    </body>
</html>